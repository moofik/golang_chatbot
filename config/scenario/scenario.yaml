scenario:
  name: tg_vcv_unbox
  provider:
    name: telegram
    token: '1799138792:AAGryx8c1D48yT8TAD5VCG1yzXs8k3tPtIc'

  states:
    -
      name: unknown
      transitions:
        - {name: to_start, state_to: start, command: {type: 'text_input', arguments: ['/start']}}

    -
      name: start
      actions:
        send_text:
          name: send_text
          params:
            text: >
              Привет! Я помогу тебе продать или купить криптовалюту. А еще у нас скоро появится свой кошелёк, где ты сможешь безопасно хранить свои средства :)
              Давай зарегестрируем тебе аккаунт в системе, напиши как тебя зовут.
      transitions:
        - {name: to_nice_to_meet_you, state_to: nice_to_meet_you, command: {type: 'text_input'}}

    -
      name: nice_to_meet_you
      actions:
        remember_name:
          name: remember_input
          params: { pattern: '{{.user_name}}' }
        send_text:
          name: send_text
          params:
            text: 'Спасибо, {{.user_name}}. Твой аккаунт зарегистрирован. Теперь ты можешь пользоваться нашей системой обмена криптовалют.'
      transitions:
        - {name: to_main_menu, state_to: main_menu, command: {type: 'button', arguments: ['/back', 'Перейти в меню']}}

    -
      name: main_menu
      actions:
        send_text:
          name: send_text
          params:
            text: 'Здесь ты можешь выбрать нужное тебе действие.'
      transitions:
        - {name: buy, state_to: nice_to_meet_you, command: {type: 'button', arguments: ['/buy', 'Купить :joy:']}}
        - {name: sell, state_to: nice_to_meet_you, command: {type: 'button', arguments: ['/sell', 'Продать :cry:']}}
